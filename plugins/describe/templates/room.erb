<%= header %>
<%= left(room.name, 40) %> <%= right(area, 37) %>
<%= ooc_time %> ~ <%= ic_time %>
<%= divider %>
<%= description %>

<% if illusion_words_remaining > 0 %>
%xg<%= t('lucidity.illusion_words_remaining_prefix') %> %xn<%= illusion_words_remaining %>
<% end %>
<% if details %>

%xh<%= t('describe.details_available') %>%xn <%= details %>
<% end %>
<% if room.scene_set %>
<%= divider %>
%xg<%= t('describe.scene_set_title')%>%xn
%xh<%= room.scene_set %>%xn
<% end %>
<% if logging_enabled %>

%xy<%= center( t('describe.scene_log_active'), 78 )%>%xn
<% end %>
<%= divider %>
%xg<%= t('describe.players_title') %>%xn
<% online_chars.each do |c| -%>
%xh<%= char_name(c) %>%xn <%= char_tag(c)%> <%= char_afk(c) %><%= char_shortdesc(c)%>
<% end %> 
<% if web_watchers %>
%xn<%= t('describe.watching_from_web') %>%xn <%= web_watchers %>
<% end %>

<%= "%xg#{t('describe.exits_title')}%xn" -%>
<% exits.reject(&:bridge).each_with_index do |e, i| %>
<%= exit_linebreak(i) %>%xh<%= left(exit_name(e), 5) %>%xn <%= left(exit_destination(e),30) -%>
<% end %>

<%= "%xg#{t('describe.bridges_title')}%xn%r" if exits.select(&:bridge).count > 0 -%>
<% exits.select(&:bridge).each_with_index do |e, i| %>
<%= "%xn%xh#{left(exit_name(e), 5)} %xn#{left(exit_destination(e), 30)} %xy#{e.toll}" %>
<% end %>
<% if exits.count == 0 %>No way out!<% end %>
<% if is_foyer %>
<%= divider -%>
<% foyer_exits.each_with_index do |e, i| %>
<%= foyer_status(e, i) -%>
<% end %>

<% end %>

<% if room.room_type == "IC" %>
<%= "%xg#{t('lucidity.barrier_title')}%xn" -%>
<%= room.barrier %>
<% end %>
<%= footer %>
